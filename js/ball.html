<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Balls</title>
    <style>
    	* { padding: 40; margin: 40; }
    	canvas { background: #EEE; display: block; margin: 0 auto; }
    </style>
</head>
<body>

<canvas id="myCanvas" width="480" height="320"></canvas>

<script>
  
  var canvas = document.getElementById("myCanvas");
  var ctx = canvas.getContext("2d");

  var dx = 2;
  var dy = 2;

  var x = 40;
  var y = 40;

  var rad = 30;

  var r = 0;
  var dr = 1;

  function draw_ball(x, y, rad, color)
  {
    ctx.beginPath();
    ctx.arc(x, y, rad, 0, Math.PI*2, false);
    ctx.fillStyle = color;
    ctx.fill();
    ctx.closePath();    
  }

  function rgb (r, g, b)
  {
      return "rgb(" + r + "," + g + "," + b + ")";  
  }


  function random_color()
  {

      var r = Math.floor(Math.random() * 255);
      var g = Math.floor(Math.random() * 255);
      var b = Math.floor(Math.random() * 255);

      console.log ("r:%d g:%d b:%d",r,g,b);
  
      return rgb(r,g,b);
  }
  
  
  function draw(){

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    draw_ball(x, y, rad, rgb(r, 145, 34));

    if (x > (canvas.width - rad) || x < (0 + rad)) {
       dx = -dx;
    }

    if (y > (canvas.height - rad) || y < (0 + rad)) {
       dy = -dy;
    }
          
    x = x + dx;
    y = y + dy;

    if (r > 255 || r < 0){
      dr = -dr;
    }

    r = r + dr;

  }
  setInterval(draw, 30);
  
</script>

</body>
</html>
